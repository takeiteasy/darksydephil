<!DOCTYPE html>
<html>
	<head>
        <meta http-equiv="Content-Type"        content="text/html; charset=utf-8">
        <meta http-equiv="Content-Style-Type"  content="text/css">
        <meta http-equiv="Content-Script-Type" content="text/javascript">
            
        <link rel="shortcut icon" href="favicon.ico" />
        <link rel="stylesheet" type="text/css" href="style.css" />
        <title>The Snort Report</title>
        
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
        <script type="text/javascript" src="paymetonnes.json"></script>
		<script type="text/javascript" src="dsp.js"></script>
        <script type="text/javascript">
            var paymetonnes_chart_money_config = {
                type: "line",
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: "Patreon History"
                    },
                    scales: {
                        xAxes: [{
                                type: "time",
                                time: {
                                    format: "MM/DD/YYYY HH:mm",
                                    tooltipFormat: "ll HH:mm"
                                }
                        }],
                        yAxes: [{
                                ticks: {
                                    beginAtZero:true,
                                    callback: function(value, index, values) {
                                        return '$' + value;
                                    }
                                }
                        }]
                    }
                }
            };
        
            var paymetonnes_chart_sub_config = {
                type: "line",
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: "Patreon Subs"
                    },
                    scales: {
                        xAxes: [{
                                type: "time",
                                time: {
                                    format: "MM/DD/YYYY HH:mm",
                                    tooltipFormat: "ll HH:mm"
                                }
                        }]
                    }
                }
            };
        
            window.onload = function() {
                paymetonnes_data = JSON.parse(paymetonnes_data);
                var all_labels = Object.keys(paymetonnes_data).map(function(k) { return parseInt(k); });
                var paymetonnes_chart_money = paymetonnes_chart_money_config;
                var paymetonnes_chart_subs = paymetonnes_chart_sub_config;
                paymetonnes_chart_money.data = {
                    labels: all_labels,
                    datasets: [{
                               label: "Patreon $$$",
                               backgroundColor: 'rgba(255, 206, 86, 0.2)',
                               borderColor: 'rgba(255, 206, 86, 1)',
                               data: Object.keys(paymetonnes_data).map(function(k) { return paymetonnes_data[k]["earnings"] })
                    }]
                };
                paymetonnes_chart_subs.data = {
                    labels: all_labels,
                    datasets: [{
                               label: "Patreon Subs",
                               backgroundColor: 'rgba(255, 159, 64, 0.2)',
                               borderColor: 'rgba(255, 159, 64, 1)',
                               data: Object.keys(paymetonnes_data).map(function(k) { return paymetonnes_data[k]["patrons"] })
                   }]
                };
                
                var chart_main = new Chart(document.getElementById("chart_main").getContext('2d'), data["config_2017"]);
                var chart_1 = new Chart(document.getElementById("chart_1").getContext('2d'), data["sub_config_2017"]);
                var chart_2 = new Chart(document.getElementById("chart_2").getContext('2d'), data["config_month"]);
                var paymetonnes_chart1 = new Chart(document.getElementById("chart_paymetonnes1").getContext('2d'), paymetonnes_chart_money);
                var paymetonnes_chart2 = new Chart(document.getElementById("chart_paymetonnes2").getContext('2d'), paymetonnes_chart_subs);
            }
        </script>
	</head>
	<body>
        <audio id="snort" src="snort.wav"></audio>
        <div class="title">
            <span><i><a href="#" onclick="document.getElementById('snort').play()">The Snort Report</a></i></span>
        </div>
        <div class="subtitle">
            <span>"Thanks you, <b>ya fucking worthless humans</b>, for the views!" - Phil Burnell, 2012</span><br/><br/>
            <span class="footer"><b>NOTE:</b> This doesn't include direct-to-paypal donations, youtube revenue, shirt-money, amazon referal links revenue, or whatever else DSP uses to get sweet, sweet money. This is all public data. His real revenue is probably <i>at least</i> triple this.</span>
        </div>
		<div class="chart-container">
			<canvas id="chart_main"></canvas>
		</div>
        <div class="flex-container">
            <div class="small-chart-container"><canvas id="chart_1"></canvas></div>
            <div class="small-chart-container"><canvas id="chart_2"></canvas></div>
        </div>
        <div class="chart-container">
            <canvas id="chart_paymetonnes1"></canvas><br/>
            <canvas id="chart_paymetonnes2"></canvas><br/>
        </div>
	</body>
</html>
